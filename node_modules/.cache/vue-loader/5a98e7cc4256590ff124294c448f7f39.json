{"remainingRequest":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\src\\components\\PersonalInfo_follow.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\src\\components\\PersonalInfo_follow.vue","mtime":1608362689094},{"path":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgRWxEaXZpZGVyIGZyb20gIi4uLy4uL25vZGVfbW9kdWxlcy9lbGVtZW50LXVpL3BhY2thZ2VzL2RpdmlkZXIvc3JjL21haW4udnVlIjsKaW1wb3J0IEVsQXZhdGFyIGZyb20gIi4uLy4uL25vZGVfbW9kdWxlcy9lbGVtZW50LXVpL3BhY2thZ2VzL2F2YXRhci9zcmMvbWFpbi52dWUiOwppbXBvcnQgRWxCdXR0b24gZnJvbSAiLi4vLi4vbm9kZV9tb2R1bGVzL2VsZW1lbnQtdWkvcGFja2FnZXMvYnV0dG9uL3NyYy9idXR0b24udnVlIjsKaW1wb3J0IEVsSW5wdXQgZnJvbSAiLi4vLi4vbm9kZV9tb2R1bGVzL2VsZW1lbnQtdWkvcGFja2FnZXMvaW5wdXQvc3JjL2lucHV0LnZ1ZSI7CmltcG9ydCBFbExpbmsgZnJvbSAiLi4vLi4vbm9kZV9tb2R1bGVzL2VsZW1lbnQtdWkvcGFja2FnZXMvbGluay9zcmMvbWFpbi52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgY29tcG9uZW50czogewogICAgICAgIEVsTGluaywKICAgICAgICBFbElucHV0LAogICAgICAgIEVsQnV0dG9uLAogICAgICAgIEVsQXZhdGFyLAogICAgICAgIEVsRGl2aWRlcn0sCiAgICBuYW1lOiAnUGVyc29uYWxJbmZvX2ZvbGxvdycsCiAgICBwcm9wczogewogICAgICAgIG1zZzogU3RyaW5nCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBhY3RpdmVJbmRleDogJzEnLAogICAgICAgICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsLy/lj5HpgIHnp4Hkv6HnmoRkaWFsb2cKICAgICAgICAgICAgZm9ybUxhYmVsV2lkdGg6ICcxMjBweCcsCiAgICAgICAgICAgIHNlbGVjdDowLC8v6YCJ5oup5p+l55yL5ZOq5LiA5Liq5raI5oGvCiAgICAgICAgICAgIGZvcm06IHsKICAgICAgICAgICAgICAgIGlkOiAnMTIzNDU2Nzg5JywKICAgICAgICAgICAgICAgIHNpZDogJycsCiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyaWQsCiAgICAgICAgICAgICAgICBlbWFpbDogJycsCiAgICAgICAgICAgICAgICBpbmZvOiAnJwogICAgICAgICAgICB9LAogICAgICAgICAgICAvL21lc3NhZ2XmlbDnu4TnnIvlrp7pmYXmg4XlhrXliqDovb3lhoXlrrnvvIzmr5TlpoLlnKjigJzns7vnu5/pgJrnn6XigJ3liJnliqDovb3ns7vnu5/pgJrnn6XvvIzliIfmjaLlhbblroPnm67lvZXml7bmuIXnqbrlkI7ph43mlrDliqDovb0KICAgICAgICAgICAgc2Nob2xhcl9saXN0Olt7CiAgICAgICAgICAgICAgICBpZDonJywvL+WFs+azqGlkCiAgICAgICAgICAgICAgICBwaG90bzonJywvL+WktOWDjwogICAgICAgICAgICAgICAgbmFtZTon5a2m6ICFMScsLy/lrabogIXlp5PlkI0KICAgICAgICAgICAgICAgIGFydGljbGVfbnVtOjEsLy/mlofnjK7mlbDph48KICAgICAgICAgICAgICAgIGZpZWxkOifljLvlraYnLy/noJTnqbbpoobln58KICAgICAgICAgICAgfSx7CiAgICAgICAgICAgICAgICBpZDonJywKICAgICAgICAgICAgICAgIHBob3RvOicnLAogICAgICAgICAgICAgICAgbmFtZTon5a2m6ICFMicsCiAgICAgICAgICAgICAgICBhcnRpY2xlX251bToxMCwKICAgICAgICAgICAgICAgIGZpZWxkOiforqHnrpfmnLrvvIzmlbDlrabvvIznlLXlrZDmioDmnK/vvIzova/ku7bvvIzkurrlt6Xmmbrog70nCiAgICAgICAgICAgIH0sewogICAgICAgICAgICAgICAgaWQ6JycsCiAgICAgICAgICAgICAgICBwaG90bzonJywKICAgICAgICAgICAgICAgIG5hbWU6J+WtpuiAhTMnLAogICAgICAgICAgICAgICAgYXJ0aWNsZV9udW06MTE0NTE0LAogICAgICAgICAgICAgICAgZmllbGQ6J+mHkeiejScKICAgICAgICAgICAgfV0KICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpewogICAgICAgIHRoaXMuc2hvd2ZvbGxvd2luZm8oKQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBzaG93Zm9sbG93aW5mbyAoKSB7CiAgICAgICAgICAgIGxldCBwb3N0RGF0YSA9IHsKICAgICAgICAgICAgICAgICdpZCc6IHBhcnNlSW50KHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJRCkKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCByZXMgPSB0aGlzLiRheGlvcy5wb3N0KCcvdXNlci9nZXRVc2VyJywgcG9zdERhdGEpLmNhdGNoKGVycj0+e2NvbnNvbGUubG9nKGVycil9KQogICAgICAgICAgICB0aGlzLmZvcm0ubmFtZT1yZXMuZGF0YS5uYW1lCiAgICAgICAgICAgIHRoaXMuZm9ybS5lbWFpbD1yZXMuZGF0YS5lbWFpbAogICAgICAgICAgICB0aGlzLmZvcm0uaW5mbz1yZXMuZGF0YS5pbmZvCiAgICAgICAgICAgIHJldHVybiAwCiAgICAgICAgfSwKICAgICAgICB0b0lkZW50aWZ5KCl7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKAogICAgICAgICAgICAgICAge3BhdGg6IiIsCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6ewogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICBpZDp0aGlzLiRyb3V0ZS5xdWVyeS5pZAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBjYW5jZWwoaW5kZXgpIHsKICAgICAgICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm56Gu5a6a5Y+W5raI5a+56K+l5a2m6ICF55qE5YWz5rOoPycsICfmj5DnpLonLCB7CiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuc2Nob2xhcl9saXN0LnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgICAgICAvL+S7jnNjaG9sYXJfbGlzdOmHjOWIoOmZpOivpeWtpuiAhQogICAgICAgICAgICAgICAgbGV0IHBvc3REYXRhID0gewogICAgICAgICAgICAgICAgICAgICdpZCc6IHRoaXMuc2Nob2xhcl9saXN0W2luZGV4XS5pZAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL2ZvbGxvdy9kZWxldGUnLCBwb3N0RGF0YSkuY2F0Y2goZXJyPT57Y29uc29sZS5sb2coZXJyKX0pCiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WPluWFs+aIkOWKnyEnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtognCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICB2aWV3U2Nob2xhcihpbmRleCl7CgogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgKICAgICAgICAgICAgICAgIHtwYXRoOicvc2Nob2xhcl9ob21lJywKICAgICAgICAgICAgICAgICAgICBxdWVyeTp7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOnRoaXMuJHJvdXRlLnF1ZXJ5LmlkCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgLy/ot7PovazliLDlrabogIXkuLvpobUs6L+Z6YOo5YiG6L+Y5rKh5YaZ5aW977yM5Zug5Li65LiN55+l6YGT5a2m6ICF5Li76aG155qE6Lev55Sx5pa55byP77yM5Y+v5Lul5pyA5ZCO5pW05ZCI5pe25Yqg5LiKCiAgICAgICAgfQoKCgogICAgfQp9Cgo="},{"version":3,"sources":["PersonalInfo_follow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA","file":"PersonalInfo_follow.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <div>\r\n            <el-row>\r\n                <el-col :span=\"8\">\r\n                    <div><span style=\"margin-left: 1%\"><i class=\"el-icon-s-custom\"> 我关注的学者</i></span></div>\r\n                </el-col>\r\n                <el-col :span=\"16\">\r\n                    <div> </div>\r\n                </el-col>\r\n                <el-col :span=\"16\">\r\n                    <div></div>\r\n                </el-col>\r\n\r\n            </el-row>\r\n            <el-divider></el-divider>\r\n            <div>\r\n                <el-table\r\n                        :data=\"scholar_list\"\r\n\r\n\r\n                        style=\"width: 800px\">\r\n                    <el-table-column\r\n                            fixed\r\n                            prop=\"photo\"\r\n                            label=\"\"\r\n                            width=\"70\">\r\n                        <el-avatar :size=\"35\"></el-avatar>\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            fixed\r\n                            prop=\"name\"\r\n                            label=\"学者姓名\"\r\n                            width=\"150\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-link @click=\"viewScholar(scope.$index)\">{{scope.row.name}}</el-link>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"article_num\"\r\n                            label=\"文献数量\"\r\n                            width=\"120\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"field\"\r\n                            label=\"主要研究领域\"\r\n                            width=\"260\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            fixed=\"right\"\r\n                            label=\"\"\r\n                            width=\"150\"\r\n                            type=\"index\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button type=\"danger\" size=\"small\" @click=\"cancel(index)\">取消关注</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n<script>\r\n\r\n    import ElDivider from \"../../node_modules/element-ui/packages/divider/src/main.vue\";\r\n    import ElAvatar from \"../../node_modules/element-ui/packages/avatar/src/main.vue\";\r\n    import ElButton from \"../../node_modules/element-ui/packages/button/src/button.vue\";\r\n    import ElInput from \"../../node_modules/element-ui/packages/input/src/input.vue\";\r\n    import ElLink from \"../../node_modules/element-ui/packages/link/src/main.vue\";\r\n\r\n    export default {\r\n        components: {\r\n            ElLink,\r\n            ElInput,\r\n            ElButton,\r\n            ElAvatar,\r\n            ElDivider},\r\n        name: 'PersonalInfo_follow',\r\n        props: {\r\n            msg: String\r\n        },\r\n        data() {\r\n            return {\r\n                activeIndex: '1',\r\n                dialogFormVisible: false,//发送私信的dialog\r\n                formLabelWidth: '120px',\r\n                select:0,//选择查看哪一个消息\r\n                form: {\r\n                    id: '123456789',\r\n                    sid: '',\r\n                    name: this.$store.state.userid,\r\n                    email: '',\r\n                    info: ''\r\n                },\r\n                //message数组看实际情况加载内容，比如在“系统通知”则加载系统通知，切换其它目录时清空后重新加载\r\n                scholar_list:[{\r\n                    id:'',//关注id\r\n                    photo:'',//头像\r\n                    name:'学者1',//学者姓名\r\n                    article_num:1,//文献数量\r\n                    field:'医学'//研究领域\r\n                },{\r\n                    id:'',\r\n                    photo:'',\r\n                    name:'学者2',\r\n                    article_num:10,\r\n                    field:'计算机，数学，电子技术，软件，人工智能'\r\n                },{\r\n                    id:'',\r\n                    photo:'',\r\n                    name:'学者3',\r\n                    article_num:114514,\r\n                    field:'金融'\r\n                }]\r\n            }\r\n        },\r\n        created(){\r\n            this.showfollowinfo()\r\n        },\r\n        methods: {\r\n            showfollowinfo () {\r\n                let postData = {\r\n                    'id': parseInt(this.$store.state.userID)\r\n                }\r\n                const res = this.$axios.post('/user/getUser', postData).catch(err=>{console.log(err)})\r\n                this.form.name=res.data.name\r\n                this.form.email=res.data.email\r\n                this.form.info=res.data.info\r\n                return 0\r\n            },\r\n            toIdentify(){\r\n                this.$router.replace(\r\n                    {path:\"\",\r\n                        query:{\r\n                            //       id:this.$route.query.id\r\n                        }\r\n                    })\r\n            },\r\n            cancel(index) {\r\n                this.$confirm('是否确定取消对该学者的关注?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    this.scholar_list.splice(index, 1);\r\n                    //从scholar_list里删除该学者\r\n                    let postData = {\r\n                        'id': this.scholar_list[index].id\r\n                    }\r\n                    this.$axios.post('/follow/delete', postData).catch(err=>{console.log(err)})\r\n                    this.$message({\r\n                        type: 'success',\r\n                        message: '取关成功!'\r\n                    });\r\n                }).catch(() => {\r\n                    this.$message({\r\n                        type: 'info',\r\n                        message: '已取消'\r\n                    });\r\n                });\r\n            },\r\n            viewScholar(index){\r\n\r\n                this.$router.replace(\r\n                    {path:'/scholar_home',\r\n                        query:{\r\n                            id:this.$route.query.id\r\n                        }\r\n                    })\r\n                //跳转到学者主页,这部分还没写好，因为不知道学者主页的路由方式，可以最后整合时加上\r\n            }\r\n\r\n\r\n\r\n        }\r\n    }\r\n\r\n</script>\r\n\r\n\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style lang=\"less\" scoped>\r\n    .el-divider--vertical{\r\n        height: 700px;\r\n    }\r\n    /* el-divider 修改高度&虚线效果 */\r\n    .el-divider--horizontal{\r\n        margin: 12px 3px;\r\n        border-top: 1px dashed #e8eaec;\r\n    }\r\n\r\n</style>\r\n"]}]}