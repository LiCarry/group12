{"remainingRequest":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\src\\views\\PersonalInfo_collection.vue?vue&type=style&index=0&id=f63548b6&lang=less&scoped=true&","dependencies":[{"path":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\src\\views\\PersonalInfo_collection.vue","mtime":1608273155339},{"path":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\buaa\\2020autumn\\软件系统分析与设计\\project\\前端\\group12\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5lbC1kaXZpZGVyLS12ZXJ0aWNhbHsKICAgIGhlaWdodDogNzAwcHg7Cn0KLyogZWwtZGl2aWRlciDkv67mlLnpq5jluqYm6Jma57q/5pWI5p6cICovCi5lbC1kaXZpZGVyLS1ob3Jpem9udGFsewogICAgbWFyZ2luOiAxMnB4IDNweDsKICAgIGJvcmRlci10b3A6IDFweCBkYXNoZWQgI2U4ZWFlYzsKfQoKCg=="},{"version":3,"sources":["PersonalInfo_collection.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PersonalInfo_collection.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <div>\r\n            <el-row>\r\n                <el-col :span=\"8\">\r\n                    <div><i class=\"el-icon-star-on\" style=\"color: gold;margin-left: 1%\"></i>我的收藏</div>\r\n                </el-col>\r\n                <el-col :span=\"16\">\r\n                    <div> </div>\r\n                </el-col>\r\n                <el-col :span=\"16\">\r\n                    <div>\r\n                        <el-button type=\"primary\" size=\"mini\" style=\"margin-left: 80%\" @click=\"newCollection\">新建文件夹</el-button>\r\n                    </div>\r\n                </el-col>\r\n\r\n            </el-row>\r\n\r\n\r\n            <el-divider></el-divider>\r\n            <div>\r\n                <div v-for=\"(item,index) in collection_list\" :key=\"item\" @click=\"viewCollection(item.Did)\" style=\"display: inline-block;width: 16%;margin-top: 10px\">\r\n                    <i class=\"el-icon-folder\" style=\"font-size: 80px;margin-left: 23%;color: gold\"></i>\r\n                    <div style=\"text-align: center\">\r\n                        {{item.name}}\r\n                    </div>\r\n\r\n                    <el-button slot=\"reference\" size=\"mini\" style=\"margin-left: 30%;margin-top: 5px\" @click=\"deleteCollection(index)\">删除</el-button>\r\n\r\n                </div>\r\n\r\n\r\n\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n<script>\r\n\r\n    import ElDivider from \"../../node_modules/element-ui/packages/divider/src/main.vue\";\r\n    import ElAvatar from \"../../node_modules/element-ui/packages/avatar/src/main.vue\";\r\n    import ElButton from \"../../node_modules/element-ui/packages/button/src/button.vue\";\r\n    import ElInput from \"../../node_modules/element-ui/packages/input/src/input.vue\";\r\n    import ElLink from \"../../node_modules/element-ui/packages/link/src/main.vue\";\r\n    import ElIcon from \"../../node_modules/element-ui/packages/icon/src/icon.vue\";\r\n\r\n    export default {\r\n        components: {\r\n            ElIcon,\r\n            ElLink,\r\n            ElInput,\r\n            ElButton,\r\n            ElAvatar,\r\n            ElDivider},\r\n        name: 'PersonalInfo_collection',\r\n        props: {\r\n            msg: String\r\n        },\r\n        data() {\r\n            return {\r\n                activeIndex: '1',\r\n                select:0,//选择删除哪一个文件夹\r\n\r\n                collection_list:[],\r\n                paper_list:[]\r\n            }\r\n        },\r\n        created(){\r\n            this.showCollection()\r\n        },\r\n        methods: {\r\n            showCollection () {\r\n                const res= this.$axios({\r\n                    method:'get',\r\n                    url:'/showdir'\r\n                }).catch(err=>{console.log(err)})\r\n\r\n                this.collection_list = res.data\r\n                return 0\r\n            },\r\n            toIdentify(){\r\n                this.$router.replace(\r\n                    {path:\"\",\r\n                        query:{\r\n                            //       id:this.$route.query.id\r\n                        }\r\n                    })\r\n            },\r\n            deleteCollection(index){\r\n                this.$confirm('是否确定删除该文件夹?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    //this.collection_list.splice(index, 1);\r\n                    //从collection_list里删除该文件夹\r\n                    let postData = {\r\n                        'Did': this.collection_list[index].Did\r\n                    }\r\n                    this.$axios.post('/dir/delete', postData).then((response) => {\r\n                        this.showCollection()\r\n                    })\r\n                    this.$message({\r\n                        type: 'success',\r\n                        message: '删除成功!'\r\n                    });\r\n                }).catch(() => {\r\n                    this.$message({\r\n                        type: 'info',\r\n                        message: '已取消'\r\n                    });\r\n                });\r\n            },\r\n            viewCollection(id){\r\n                this.$router.replace(\r\n                    {path:'/papercollection',\r\n                        query:{\r\n                            //    id:this.$route.query.id,\r\n                            Did:id,\r\n                        }\r\n                    })\r\n\r\n                //跳转到对应收藏夹页\r\n            },\r\n            toTeamSpace(teamtitle,teamid){\r\n\r\n            },\r\n            async newCollection() {\r\n                await this.$prompt('请输入收藏夹名称', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消'\r\n                }).then(async ({ value }) => {\r\n                    if(!value){\r\n                        alert('收藏夹名不能为空')\r\n                    }\r\n                    else{\r\n                        const res=await this.$axios({\r\n                            type:'params',\r\n                            method:'post',\r\n                            url:'/makedir',\r\n                            data:{\r\n                                Dname:value\r\n                            }\r\n                        }).catch(err=>{console.log(err)})\r\n                        console.log(res)\r\n\r\n                        this.showCollection()\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: '新建成功'\r\n                        });}\r\n                }).catch(() => {\r\n                    this.$message({\r\n                        type: 'info',\r\n                        message: '取消创建'\r\n                    });\r\n                });\r\n            },\r\n\r\n\r\n\r\n        }\r\n    }\r\n\r\n</script>\r\n\r\n\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style lang=\"less\" scoped>\r\n    .el-divider--vertical{\r\n        height: 700px;\r\n    }\r\n    /* el-divider 修改高度&虚线效果 */\r\n    .el-divider--horizontal{\r\n        margin: 12px 3px;\r\n        border-top: 1px dashed #e8eaec;\r\n    }\r\n\r\n\r\n</style>\r\n"]}]}